{"version":3,"sources":["webpack:///static/js/28.bef13fe9b7a29c9cab7a.js","webpack:///./src/views/terminal/versionList.vue?8932","webpack:///./src/views/terminal/versionList.vue?80d2","webpack:///./src/views/terminal/versionList.vue","webpack:///./src/api/terminal.js?27bd**","webpack:///versionList.vue","webpack:///./src/views/terminal/versionList.vue?4160"],"names":["webpackJsonp","1220","module","exports","__webpack_require__","content","i","locals","1302","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","inline","type","on","click","$event","goBack","_v","size","dialogVersionVisible","directives","name","rawName","value","expression","modifiers","body","staticStyle","width","data","list","highlight-current-row","highlight","element-loading-text","prop","label","scopedSlots","_u","key","fn","scope","icon","del","row","showUpdateDailog","filePath","_e","showUploadDailog","href","target","title","visible","lock-scroll","update:visible","close","resetForm","ref","model","versionForm","rules","label-width","maxlength","placeholder","callback","$$v","package_version","introduce","slot","addVersion","dialogUpdateVisible","updateVersionForm","updateVersion","dialogUploadVisible","drag","on-success","fileUpSuccess","on-error","fileUpError","on-preview","handlePreview","before-upload","beforeUpload","headers","action","multiple","staticRenderFns","623","injectStyle","ssrContext","Component","651","__webpack_exports__","addTerminal","__WEBPACK_IMPORTED_MODULE_0_utils_fetch__","url","method","updateTerminal","uppdateTerminalUser","userId","terminal_id","cur_userId","competence_type","getTerminalList","deleteTerminal","addTerminalUser","getTerminalUser","addPackage","p","updatePackage","getPackages","deletePackage","getVersionList","package_id","delVersion","version_id","downLoad","package_version_id","__WEBPACK_IMPORTED_MODULE_1_js_cookie__","n","887","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_api_terminal__","methods","$router","go","formName","$refs","resetFields","_this","validate","valid","params","then","response","code","$message","success","fetchData","warning","message","catch","error","version","_this2","$confirm","confirmButtonText","cancelButtonText","package_version_introduce","_this3","_this4","package_version_info","json","file","loading","Authorization","$store","getters","token","$route","terminalId","packageId","required","max","trigger","created","933","push","sources","names","mappings","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/28.bef13fe9b7a29c9cab7a.js","sourcesContent":["webpackJsonp([28],{\n\n/***/ 1220:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(933);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(573)(\"e742b764\", content, true);\n\n/***/ }),\n\n/***/ 1302:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"components-container\"\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.goBack()\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  }), _vm._v(\"返回\\n\\t        \")])], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"fr\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogVersionVisible = true\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  }), _vm._v(\"添加版本\")])], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"highlight-current-row\": _vm.highlight,\n      \"element-loading-text\": \"拼命加载中\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"50\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_version_id\",\n      \"label\": \"版本ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_id\",\n      \"label\": \"升级包ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"terminal_id\",\n      \"label\": \"终端ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_version\",\n      \"label\": \"版本\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_version_introduce\",\n      \"label\": \"描述\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"300\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"icon\": \"delete\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.del(scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"icon\": \"edit\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showUpdateDailog(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), (!scope.row.filePath) ? _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"icon\": \"upload\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showUploadDailog(scope.row)\n            }\n          }\n        }, [_vm._v(\"上传包\")]) : _vm._e(), _vm._v(\" \"), (scope.row.filePath) ? _c('el-button', {\n          attrs: {\n            \"type\": \"text\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": scope.row.filePath,\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"下载包\")])]) : _vm._e()]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"添加版本\",\n      \"visible\": _vm.dialogVersionVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogVersionVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('versionForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"versionForm\",\n    attrs: {\n      \"model\": _vm.versionForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"版本号\",\n      \"prop\": \"package_version\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 60,\n      \"placeholder\": \"版本号\"\n    },\n    model: {\n      value: (_vm.versionForm.package_version),\n      callback: function($$v) {\n        _vm.versionForm.package_version = $$v\n      },\n      expression: \"versionForm.package_version\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 120,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.versionForm.introduce),\n      callback: function($$v) {\n        _vm.versionForm.introduce = $$v\n      },\n      expression: \"versionForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addVersion()\n      }\n    }\n  }, [_vm._v(\"添加\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogVersionVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"更新版本\",\n      \"visible\": _vm.dialogUpdateVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogUpdateVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('updateVersionForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"updateVersionForm\",\n    attrs: {\n      \"model\": _vm.updateVersionForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"版本号\",\n      \"prop\": \"package_version\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 60,\n      \"placeholder\": \"版本号\"\n    },\n    model: {\n      value: (_vm.updateVersionForm.package_version),\n      callback: function($$v) {\n        _vm.updateVersionForm.package_version = $$v\n      },\n      expression: \"updateVersionForm.package_version\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 120,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.updateVersionForm.introduce),\n      callback: function($$v) {\n        _vm.updateVersionForm.introduce = $$v\n      },\n      expression: \"updateVersionForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.updateVersion()\n      }\n    }\n  }, [_vm._v(\"确定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogUpdateVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"包上传\",\n      \"visible\": _vm.dialogUploadVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogUploadVisible = $event\n      }\n    }\n  }, [_c('el-upload', {\n    ref: \"test\",\n    staticClass: \"upload-box\",\n    attrs: {\n      \"drag\": \"\",\n      \"name\": \"file\",\n      \"on-success\": _vm.fileUpSuccess,\n      \"on-error\": _vm.fileUpError,\n      \"on-preview\": _vm.handlePreview,\n      \"before-upload\": _vm.beforeUpload,\n      \"headers\": _vm.headers,\n      \"action\": \"/ong/packageFile/upload\",\n      \"multiple\": \"\",\n      \"data\": _vm.data\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-upload\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__text\"\n  }, [_vm._v(\"将文件拖到此处，或\"), _c('em', [_vm._v(\"点击上传\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    slot: \"tip\"\n  }, [_vm._v(\"文件大小不超过50000M\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.updateVersion()\n      }\n    }\n  }, [_vm._v(\"确定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogUploadVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"action\": \"\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 623:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1220)\n}\nvar Component = __webpack_require__(21)(\n  /* script */\n  __webpack_require__(887),\n  /* template */\n  __webpack_require__(1302),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-51227b46\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 651:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"p\"] = addTerminal;\n/* harmony export (immutable) */ __webpack_exports__[\"o\"] = updateTerminal;\n/* unused harmony export addTerminalUseUser */\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = uppdateTerminalUser;\n/* harmony export (immutable) */ __webpack_exports__[\"m\"] = getTerminalList;\n/* unused harmony export getCompetenceList */\n/* harmony export (immutable) */ __webpack_exports__[\"n\"] = deleteTerminal;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = addTerminalUser;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = getTerminalUser;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = addPackage;\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = updatePackage;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = getPackages;\n/* harmony export (immutable) */ __webpack_exports__[\"l\"] = deletePackage;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = addVersion;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = updateVersion;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = getVersionList;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = delVersion;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = downLoad;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_utils_fetch__ = __webpack_require__(230);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_js_cookie__ = __webpack_require__(97);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_js_cookie___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_js_cookie__);\n\n\n\nfunction addTerminal(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=add_terminal',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction updateTerminal(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=update_terminal_info',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction addTerminalUseUser(userId, terminal_id, cur_userId, competence_type) {\n    var data = { userId: userId, terminal_id: terminal_id, cur_userId: cur_userId, competence_type: competence_type };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=add_terminal_user',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction uppdateTerminalUser(userId, terminal_id, cur_userId, competence_type) {\n    var data = { userId: userId, terminal_id: terminal_id, cur_userId: cur_userId, competence_type: competence_type };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=update_terminal_user_competence',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getTerminalList() {\n    var data = {};\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal/get_terminals',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getCompetenceList() {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal/get_terminal_competence',\n        method: \"post\"\n    });\n}\n\nfunction deleteTerminal(userId, terminal_id) {\n    var data = { userId: userId, terminal_id: terminal_id };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal/deleteTerminal',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction addTerminalUser(cur_userId, terminal_id, userId, competence_type) {\n    var data = { cur_userId: cur_userId, terminal_id: terminal_id, userId: userId, competence_type: competence_type };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=add_terminal_user',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getTerminalUser(terminal_id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal/get_user_terminal_competence',\n        method: \"post\",\n        data: { terminal_id: terminal_id }\n    });\n}\n\nfunction addPackage(p) {\n    var data = p;\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package?cmd=add_package',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction updatePackage(p) {\n    var data = p;\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package?cmd=update_package',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getPackages(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package/get_packages',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction deletePackage(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package/delete_package',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction addVersion(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version?cmd=add_version',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction updateVersion(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version?cmd=update_package_version',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getVersionList(userId, package_id) {\n    var data = { userId: userId, package_id: package_id };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version/get_package_version_info',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction delVersion(userId, version_id) {\n    var data = { userId: userId, version_id: version_id };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version/delete_package_version',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction downLoad() {\n    var data = {\n        \"terminal_id\": \"2\",\n        \"package_id\": \"2\",\n        \"package_version_id\": \"2\"\n    };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/packageFile/packageFilesInfo',\n        method: \"post\",\n        data: data\n    });\n}\n\n/***/ }),\n\n/***/ 887:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_api_terminal__ = __webpack_require__(651);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tmethods: {\n\t\tgoBack: function goBack() {\n\t\t\tthis.$router.go(-1);\n\t\t},\n\t\tresetForm: function resetForm(formName) {\n\t\t\tthis.$refs[formName].resetFields();\n\t\t},\n\t\tdownLoad: function downLoad(data) {\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"a\" /* downLoad */])(data);\n\t\t},\n\t\taddVersion: function addVersion() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.$refs.versionForm.validate(function (valid) {\n\t\t\t\tif (valid) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\tintroduce: _this.versionForm.introduce,\n\t\t\t\t\t\tpackage_id: _this.versionForm.package_id,\n\t\t\t\t\t\tpackage_version: _this.versionForm.package_version,\n\t\t\t\t\t\tuserId: _this.versionForm.userId\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"b\" /* addVersion */])(params).then(function (response) {\n\t\t\t\t\t\tvar data = response.data;\n\t\t\t\t\t\tif (data.code == \"0000\") {\n\t\t\t\t\t\t\t_this.$message.success(\"添加成功！\");\n\t\t\t\t\t\t\t_this.fetchData();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.$message.warning(data.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\t_this.$message.error(error.message ? error.message : \"服务器出错了！\");\n\t\t\t\t\t});\n\t\t\t\t\t_this.dialogVersionVisible = false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdel: function del(version) {\n\t\t\tvar _this2 = this;\n\n\t\t\tthis.$confirm(\"确定要删除:\" + version.package_version + \" 版本?\", '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(function () {\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"c\" /* delVersion */])(_this2.params.userId, version.package_version_id).then(function (response) {\n\t\t\t\t\tvar data = response.data;\n\t\t\t\t\tif (data.code == \"0000\") {\n\t\t\t\t\t\t_this2.$message.success(\"删除成功！\");\n\t\t\t\t\t\t_this2.fetchData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this2.$message.warning(data.message);\n\t\t\t\t\t}\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t_this2.$message.error(\"服务器出错了！\");\n\t\t\t\t});\n\t\t\t}).catch(function () {});\n\t\t},\n\t\tshowUploadDailog: function showUploadDailog(version) {\n\t\t\tthis.dialogUploadVisible = true;\n\t\t\tthis.data.package_version_id = version.package_version_id;\n\t\t},\n\t\tshowUpdateDailog: function showUpdateDailog(version) {\n\t\t\tthis.dialogUpdateVisible = true;\n\t\t\tthis.updateVersionForm.introduce = version.package_version_introduce;\n\t\t\tthis.updateVersionForm.version_id = version.package_version_id;\n\t\t\tthis.updateVersionForm.package_version = version.package_version;\n\t\t},\n\t\tupdateVersion: function updateVersion() {\n\t\t\tvar _this3 = this;\n\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"d\" /* updateVersion */])(this.updateVersionForm).then(function (response) {\n\t\t\t\tvar data = response.data;\n\t\t\t\tif (data.code == \"0000\") {\n\t\t\t\t\t_this3.$message.success(\"更新成功！\");\n\t\t\t\t\t_this3.fetchData();\n\t\t\t\t} else {\n\t\t\t\t\t_this3.$message.warning(data.message);\n\t\t\t\t}\n\t\t\t\t_this3.dialogUpdateVisible = false;\n\t\t\t}).catch(function (error) {\n\t\t\t\t_this3.$message.error(\"服务器出错了！\");\n\t\t\t});\n\t\t},\n\t\tfetchData: function fetchData() {\n\t\t\tvar _this4 = this;\n\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"e\" /* getVersionList */])(this.params.userId, this.params.package_id * 1).then(function (response) {\n\t\t\t\tvar data = response.data;\n\t\t\t\tif (data.code == \"0000\") {\n\t\t\t\t\t_this4.list = data.package_version_info;\n\t\t\t\t} else {\n\t\t\t\t\t_this4.$message.warning(data.message);\n\t\t\t\t}\n\t\t\t}).catch(function (error) {\n\t\t\t\t_this4.$message.error(\"服务器出错了！\");\n\t\t\t});\n\t\t},\n\t\tfileUpSuccess: function fileUpSuccess(json) {\n\t\t\tif (json.code == \"0000\") {\n\t\t\t\tthis.$message.success(\"上传升级包成功！\");\n\t\t\t\tthis.fetchData();\n\t\t\t} else {\n\t\t\t\tthis.$message.warning(json.message);\n\t\t\t}\n\t\t\tthis.dialogUploadVisible = false;\n\t\t},\n\t\tfileUpError: function fileUpError(json) {\n\t\t\tthis.$message.error(\"服务器出错了！\");\n\t\t\tthis.dialogUploadVisible = false;\n\t\t},\n\t\thandlePreview: function handlePreview() {},\n\t\tbeforeUpload: function beforeUpload(file) {\n\t\t\tvar isLt50M = file.size / 1024 / 1024 < 50000;\n\t\t\tif (isLt50M) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tthis.$message.warning(\"文件大小不超过50000M\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\tdata: function data() {\n\t\treturn {\n\t\t\tdialogVersionVisible: false,\n\t\t\tdialogUpdateVisible: false,\n\t\t\tdialogUploadVisible: false,\n\t\t\tloading: false,\n\t\t\thighlight: true,\n\t\t\theaders: {\n\t\t\t\tAuthorization: this.$store.getters.token\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tterminal_id: this.$route.params.terminalId,\n\t\t\t\tpackage_id: this.$route.params.packageId,\n\t\t\t\tpackage_version_id: \"\"\n\t\t\t},\n\t\t\tlist: [],\n\t\t\tparams: {\n\t\t\t\tuserId: this.$store.getters.userId,\n\t\t\t\tpackage_id: this.$route.params.packageId\n\t\t\t},\n\t\t\tversionForm: {\n\t\t\t\tuserId: this.$store.getters.userId * 1,\n\t\t\t\tpackage_id: this.$route.params.packageId * 1,\n\t\t\t\tpackage_version: \"\",\n\t\t\t\tintroduce: \"\"\n\t\t\t},\n\t\t\tupdateVersionForm: {\n\t\t\t\tuserId: this.$store.getters.userId,\n\t\t\t\tversion_id: \"\",\n\t\t\t\tpackage_version: \"\",\n\t\t\t\tintroduce: \"\"\n\t\t\t},\n\t\t\trules: {\n\t\t\t\tpackage_version: [{ required: true, max: 60, message: '填写正确的版本号', trigger: 'blur' }],\n\t\t\t\tintroduce: [{ max: 120, message: '描述太长', trigger: 'blur' }]\n\t\t\t}\n\t\t};\n\t},\n\tcreated: function created() {\n\t\tthis.fetchData();\n\t}\n});\n\n/***/ }),\n\n/***/ 933:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(572)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".upload-box .el-upload-dragger[data-v-51227b46]{max-width:100%}\", \"\", {\"version\":3,\"sources\":[\"E:/dev/study/admin/src/views/terminal/versionList.vue\"],\"names\":[],\"mappings\":\"AACA,gDACE,cAAgB,CACjB\",\"file\":\"versionList.vue\",\"sourcesContent\":[\"\\n.upload-box .el-upload-dragger[data-v-51227b46] {\\n  max-width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/28.bef13fe9b7a29c9cab7a.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51227b46\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./versionList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"e742b764\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-51227b46\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/terminal/versionList.vue\n// module id = 1220\n// module chunks = 28","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"components-container\"\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.goBack()\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  }), _vm._v(\"返回\\n\\t        \")])], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"fr\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogVersionVisible = true\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  }), _vm._v(\"添加版本\")])], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"highlight-current-row\": _vm.highlight,\n      \"element-loading-text\": \"拼命加载中\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"50\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_version_id\",\n      \"label\": \"版本ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_id\",\n      \"label\": \"升级包ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"terminal_id\",\n      \"label\": \"终端ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_version\",\n      \"label\": \"版本\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_version_introduce\",\n      \"label\": \"描述\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"300\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"icon\": \"delete\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.del(scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"icon\": \"edit\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showUpdateDailog(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), (!scope.row.filePath) ? _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"icon\": \"upload\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showUploadDailog(scope.row)\n            }\n          }\n        }, [_vm._v(\"上传包\")]) : _vm._e(), _vm._v(\" \"), (scope.row.filePath) ? _c('el-button', {\n          attrs: {\n            \"type\": \"text\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": scope.row.filePath,\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"下载包\")])]) : _vm._e()]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"添加版本\",\n      \"visible\": _vm.dialogVersionVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogVersionVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('versionForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"versionForm\",\n    attrs: {\n      \"model\": _vm.versionForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"版本号\",\n      \"prop\": \"package_version\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 60,\n      \"placeholder\": \"版本号\"\n    },\n    model: {\n      value: (_vm.versionForm.package_version),\n      callback: function($$v) {\n        _vm.versionForm.package_version = $$v\n      },\n      expression: \"versionForm.package_version\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 120,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.versionForm.introduce),\n      callback: function($$v) {\n        _vm.versionForm.introduce = $$v\n      },\n      expression: \"versionForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addVersion()\n      }\n    }\n  }, [_vm._v(\"添加\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogVersionVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"更新版本\",\n      \"visible\": _vm.dialogUpdateVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogUpdateVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('updateVersionForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"updateVersionForm\",\n    attrs: {\n      \"model\": _vm.updateVersionForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"版本号\",\n      \"prop\": \"package_version\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 60,\n      \"placeholder\": \"版本号\"\n    },\n    model: {\n      value: (_vm.updateVersionForm.package_version),\n      callback: function($$v) {\n        _vm.updateVersionForm.package_version = $$v\n      },\n      expression: \"updateVersionForm.package_version\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 120,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.updateVersionForm.introduce),\n      callback: function($$v) {\n        _vm.updateVersionForm.introduce = $$v\n      },\n      expression: \"updateVersionForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.updateVersion()\n      }\n    }\n  }, [_vm._v(\"确定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogUpdateVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"包上传\",\n      \"visible\": _vm.dialogUploadVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogUploadVisible = $event\n      }\n    }\n  }, [_c('el-upload', {\n    ref: \"test\",\n    staticClass: \"upload-box\",\n    attrs: {\n      \"drag\": \"\",\n      \"name\": \"file\",\n      \"on-success\": _vm.fileUpSuccess,\n      \"on-error\": _vm.fileUpError,\n      \"on-preview\": _vm.handlePreview,\n      \"before-upload\": _vm.beforeUpload,\n      \"headers\": _vm.headers,\n      \"action\": \"/ong/packageFile/upload\",\n      \"multiple\": \"\",\n      \"data\": _vm.data\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-upload\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__text\"\n  }, [_vm._v(\"将文件拖到此处，或\"), _c('em', [_vm._v(\"点击上传\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    slot: \"tip\"\n  }, [_vm._v(\"文件大小不超过50000M\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.updateVersion()\n      }\n    }\n  }, [_vm._v(\"确定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogUploadVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"action\": \"\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-51227b46\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/terminal/versionList.vue\n// module id = 1302\n// module chunks = 28","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51227b46\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./versionList.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./versionList.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51227b46\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./versionList.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-51227b46\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/terminal/versionList.vue\n// module id = 623\n// module chunks = 28","import fetch from 'utils/fetch';\r\nimport Cookies from 'js-cookie';\r\n\r\n/*\r\n添加终端\r\n用户id，必填\r\n终端类型名称，必填\r\n业务平台认证的url，必填\r\n简介，选填\r\n*/\r\n\r\n\r\nexport function addTerminal(data) {\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=add_terminal',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n\r\n//更新终端信息\r\nexport function updateTerminal(data) {\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=update_terminal_info',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n/*\r\n添加终端的使用用户\r\n需要被添加的用户id，必填\r\n终端类型id,必填\r\n当前操作的用户（已经登陆的用户）id,必填\r\n添加用户的终端权限(1—管理员权限（读、写），2—普通用户权限（读）)，必填\r\n*/\r\nexport function addTerminalUseUser(userId, terminal_id, cur_userId, competence_type) {\r\n    const data = { userId, terminal_id, cur_userId, competence_type };\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=add_terminal_user',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n/*\r\n更新终端用户的使用权限\r\n*/\r\nexport function uppdateTerminalUser(userId, terminal_id, cur_userId, competence_type) {\r\n    const data = { userId, terminal_id, cur_userId, competence_type };\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=update_terminal_user_competence',\r\n        method: \"post\",\r\n        data\r\n    }) \r\n}\r\n\r\n\r\n/*\r\n获取终端类型列表\r\nterminal_id\t终端类型id，选填\r\nuserId\t\t用户id，选填\r\ncompetence_type\t用户终端权限，选填\r\n*/\r\nexport function getTerminalList() {\r\n    const data = {\r\n        \r\n    }\r\n    return fetch({\r\n        url: '/ong/terminal/get_terminals',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n获取权限列表\r\n@return \r\ntype 0 1 2  \r\n*/\r\nexport function getCompetenceList() {\r\n    return fetch({\r\n        url: '/ong/terminal/get_terminal_competence',\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/*\r\n删除终端类型  delete_terminals\r\n*/\r\nexport function deleteTerminal(userId,terminal_id) {\r\n\tconst data = {userId,terminal_id};\r\n    return fetch({\r\n        url: '/ong/terminal/deleteTerminal',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n添加终端的使用用户\r\n*/\r\nexport function addTerminalUser(cur_userId,terminal_id,userId,competence_type){\r\n    const data = {cur_userId,terminal_id,userId,competence_type};\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=add_terminal_user',\r\n        method: \"post\",\r\n        data\r\n    });\r\n}\r\n\r\n/*\r\n获取终端以及人员信息 get_user_terminal_competence\r\n*/\r\nexport function getTerminalUser(terminal_id){\r\n    return fetch({\r\n        url: '/ong/terminal/get_user_terminal_competence',\r\n        method: \"post\",\r\n        data:{terminal_id}\r\n    })\r\n}\r\n/*\r\n新增升级包名称*/\r\nexport function addPackage(p){\r\n    const data = p;\r\n    return fetch({\r\n        url: '/ong/package?cmd=add_package',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n更新升级包信息*/\r\nexport function updatePackage(p){\r\n    const data = p;\r\n    return fetch({\r\n        url: '/ong/package?cmd=update_package',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n获取升级包名称列表*/\r\nexport function getPackages(data){\r\n    return fetch({\r\n        url: '/ong/package/get_packages',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n删除升级包名称*/\r\nexport function deletePackage(data){\r\n    return fetch({\r\n        url:'/ong/package/delete_package',\r\n        method:\"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n添加升级包版本信息*/\r\nexport function addVersion(data){\r\n    return fetch({\r\n        url: '/ong/version?cmd=add_version',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n更新升级包版本信息*/\r\nexport function updateVersion(data){\r\n    return fetch({\r\n        url: '/ong/version?cmd=update_package_version',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n获取升级包的版本信息*/\r\nexport function getVersionList(userId,package_id){\r\n    const data ={userId,package_id};\r\n    return fetch({\r\n        url: '/ong/version/get_package_version_info',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n删除升级包版本信息*/\r\nexport function delVersion(userId,version_id){\r\n    const data ={userId,version_id};\r\n    return fetch({\r\n        url: '/ong/version/delete_package_version',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n\r\nexport function downLoad(){\r\n    const data =    {\r\n            \"terminal_id\":\"2\",\r\n            \"package_id\":\"2\",\r\n    \"package_version_id\":\"2\"    \r\n}\r\n    return fetch({\r\n        url: '/ong/packageFile/packageFilesInfo',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/terminal.js","<template>\r\n\t<div class=\"components-container\">\r\n\t\t<el-form :inline=\"true\" >\r\n\t        <el-form-item>\r\n\t\t        <el-button type=\"text\" @click=\"goBack()\">\r\n\t\t          <i class=\"el-icon-arrow-left\"></i>返回\r\n\t\t        </el-button>\r\n\t        </el-form-item>\r\n\t        <el-form-item class=\"fr\">\r\n\t          <el-button type=\"primary\" size=\"small\" @click=\"dialogVersionVisible=true\"><i class=\"el-icon-plus\"></i>添加版本</el-button>\r\n\t        </el-form-item>\r\n\t    </el-form>\r\n\r\n\t    <el-table\r\n\t    :data=\"list\"\r\n\t    style=\"width: 100%\"\r\n\t    :highlight-current-row=\"highlight\"\r\n\t    v-loading.body=\"loading\"\r\n\t    element-loading-text=\"拼命加载中\"\r\n\t    >\r\n\t      <el-table-column\r\n\t        type=\"index\"\r\n\t        width=\"50\">\r\n\t      </el-table-column>\r\n\t      <el-table-column\r\n\t        prop=\"package_version_id\"\r\n\t        label=\"版本ID\">\r\n\t      </el-table-column>\r\n\t      <el-table-column\r\n\t        prop=\"package_id\"\r\n\t        label=\"升级包ID\">\r\n\t      </el-table-column>\r\n\t      <el-table-column\r\n\t        prop=\"terminal_id\"\r\n\t        label=\"终端ID\">\r\n\t      </el-table-column>\r\n\t      <el-table-column\r\n\t        prop=\"package_version\"\r\n\t        label=\"版本\">\r\n\t      </el-table-column>\r\n\t      <el-table-column\r\n\t        prop=\"package_version_introduce\"\r\n\t        label=\"描述\"\r\n\t        >\r\n\t      </el-table-column>\r\n\t      <el-table-column \r\n\t      label=\"操作\"\r\n\t      width=\"300\">\r\n\t        <template scope=\"scope\">\r\n\t          <el-button @click=\"del(scope.row)\" type=\"primary\" icon=\"delete\" size=\"small\">删除</el-button>\r\n\t          <el-button @click=\"showUpdateDailog(scope.row)\" type=\"primary\" icon=\"edit\" size=\"small\">编辑</el-button>\r\n\t          <el-button @click=\"showUploadDailog(scope.row)\" type=\"primary\" icon=\"upload\" size=\"small\" v-if=\"!scope.row.filePath\">上传包</el-button>\r\n\t          <el-button  type=\"text\"  v-if=\"scope.row.filePath\" ><a :href=\"scope.row.filePath\" target=\"_blank\">下载包</a></el-button>\r\n\t        </template>\r\n\t      </el-table-column>\r\n\t    </el-table>\r\n\r\n\t    \r\n\r\n\t\t<el-dialog title=\"添加版本\" :visible.sync=\"dialogVersionVisible\" \r\n\t    \t:lock-scroll=\"true\" \r\n\t    \tsize=\"tiny\"\r\n\t     \t@close=\"resetForm('versionForm')\">\r\n\t        <el-form :model=\"versionForm\" :rules=\"rules\" ref=\"versionForm\" label-width=\"70px\">\r\n\t          <el-form-item label=\"版本号\" prop=\"package_version\">\r\n\t            <el-input v-model=\"versionForm.package_version\" :maxlength=60 placeholder=\"版本号\"></el-input>\r\n\t          </el-form-item>\r\n\t          <el-form-item label=\"描述\" prop=\"introduce\">\r\n\t            <el-input type=\"textarea\" :maxlength=120 v-model=\"versionForm.introduce\" placeholder=\"描述\"></el-input>\r\n\t          </el-form-item>\r\n\t        </el-form>\r\n\t        <div slot=\"footer\" class=\"dialog-footer\">\r\n\t          <el-button type=\"primary\" @click=\"addVersion()\">添加</el-button>\r\n\t          <el-button @click=\"dialogVersionVisible=false;\">取消</el-button>\r\n\t        </div>\r\n\t    </el-dialog>  \r\n\r\n\t    <el-dialog title=\"更新版本\" :visible.sync=\"dialogUpdateVisible\" \r\n\t    \t:lock-scroll=\"true\" \r\n\t    \tsize=\"tiny\"\r\n\t     \t@close=\"resetForm('updateVersionForm')\">\r\n\t        <el-form :model=\"updateVersionForm\" :rules=\"rules\" ref=\"updateVersionForm\" label-width=\"70px\">\r\n\t          <el-form-item label=\"版本号\" prop=\"package_version\">\r\n\t            <el-input v-model=\"updateVersionForm.package_version\" :maxlength=60 placeholder=\"版本号\"></el-input>\r\n\t          </el-form-item>\r\n\t          <el-form-item label=\"描述\" prop=\"introduce\">\r\n\t            <el-input type=\"textarea\" :maxlength=120 v-model=\"updateVersionForm.introduce\" placeholder=\"描述\"></el-input>\r\n\t          </el-form-item>\r\n\t        </el-form>\r\n\t        <div slot=\"footer\" class=\"dialog-footer\">\r\n\t          <el-button type=\"primary\" @click=\"updateVersion()\">确定</el-button>\r\n\t          <el-button @click=\"dialogUpdateVisible=false;\">取消</el-button>\r\n\t        </div>\r\n\t    </el-dialog>  \r\n\r\n\t    <el-dialog title=\"包上传\" :visible.sync=\"dialogUploadVisible\" \r\n\t    \t:lock-scroll=\"true\" \r\n\t    \tsize=\"tiny\"\r\n\t     \t>\r\n\t        <el-upload \r\n\t\t\t  class=\"upload-box\"\r\n\t\t\t  drag\r\n\t\t\t  name=\"file\"\r\n\t\t\t  :on-success=\"fileUpSuccess\"\r\n\t\t\t  :on-error=\"fileUpError\"\r\n\t\t\t  :on-preview=\"handlePreview\"\r\n\t\t\t  :before-upload=\"beforeUpload\"\r\n\t\t\t  :headers=\"headers\"\r\n\t\t\t  action=\"/ong/packageFile/upload\"\r\n\t\t\t  ref=\"test\"\r\n\t\t\t  multiple\r\n\t\t\t  :data=\"data\"\r\n\t\t\t  >\r\n\t\t\t  <i class=\"el-icon-upload\"></i>\r\n\t\t\t  <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n\t\t\t  <div class=\"el-upload__tip\" slot=\"tip\">文件大小不超过50000M</div>\r\n\t\t\t</el-upload>\r\n\t        <div slot=\"footer\" class=\"dialog-footer\">\r\n\t          <el-button type=\"primary\" @click=\"updateVersion()\">确定</el-button>\r\n\t          <el-button @click=\"dialogUploadVisible=false;\">取消</el-button>\r\n\t        </div>\r\n\t    </el-dialog> \r\n\t\t<!-- 用post提交表单下载升级包 -->\r\n\t          <form action=\"\"></form>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport {getVersionList,delVersion,addVersion as doAddVersion ,updateVersion as doUpdateVersion,downLoad as doDownLoad} from 'api/terminal';\r\nexport default {\r\n\tmethods:{\r\n\t\tgoBack(){\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\t\tresetForm(formName){\r\n\t\t\tthis.$refs[formName].resetFields();\r\n\t\t},\r\n\t\tdownLoad(data){\r\n\t\t\tdoDownLoad(data);\r\n\t\t},\r\n\t\taddVersion(){\r\n\t\t\tthis.$refs.versionForm.validate(valid=>{\r\n\t\t\t\tif(valid){\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tintroduce:this.versionForm.introduce,\r\n\t\t\t\t\t\tpackage_id:this.versionForm.package_id,\r\n\t\t\t\t\t\tpackage_version:this.versionForm.package_version,\r\n\t\t\t\t\t\tuserId:this.versionForm.userId\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdoAddVersion(params).then(response=>{\r\n\t\t\t\t\t\tconst data = response.data;\r\n\t\t\t\t\t\tif(data.code==\"0000\"){\r\n\t\t\t\t\t\t\tthis.$message.success(\"添加成功！\");\r\n\t\t\t\t\t\t\tthis.fetchData();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$message.warning(data.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\tthis.$message.error(error.message?error.message:\"服务器出错了！\");\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.dialogVersionVisible=false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tdel(version){\r\n\t\t\tthis.$confirm(\"确定要删除:\"+version.package_version+\" 版本?\", '提示', {\r\n\t          confirmButtonText: '确定',\r\n\t          cancelButtonText: '取消',\r\n\t          type: 'warning'\r\n\t        }).then(() => {\r\n\t          delVersion(this.params.userId,version.package_version_id)\r\n\t          .then(response=>{\r\n\t          \tconst data = response.data;\r\n\t          \tif(data.code==\"0000\"){\r\n\t          \t\tthis.$message.success(\"删除成功！\");\r\n\t          \t\tthis.fetchData();\r\n\t          \t}else{\r\n\t          \t\tthis.$message.warning(data.message);\r\n\t          \t}\r\n\t          }).catch(error=>{\r\n\t          \t\tthis.$message.error(\"服务器出错了！\")\r\n\t          })\r\n\t        }).catch(() => {\r\n\t                 \r\n\t        });\r\n\t\t},\r\n\t\tshowUploadDailog(version){\r\n\t\t\tthis.dialogUploadVisible=true;\r\n\t\t\tthis.data.package_version_id=version.package_version_id;\r\n\t\t},\r\n\t\tshowUpdateDailog(version){\r\n\t\t\tthis.dialogUpdateVisible=true;\r\n\t\t\tthis.updateVersionForm.introduce= version.package_version_introduce;\r\n\t\t\tthis.updateVersionForm.version_id= version.package_version_id;\r\n\t\t\tthis.updateVersionForm.package_version= version.package_version;\r\n\r\n\t\t},\r\n\t\tupdateVersion(){\r\n\t\t\tdoUpdateVersion(this.updateVersionForm).then(response=>{\r\n\t\t\t\tconst data = response.data;\r\n\t\t\t\tif(data.code==\"0000\"){\r\n\t\t\t\t\tthis.$message.success(\"更新成功！\");\r\n\t\t\t\t\tthis.fetchData();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.warning(data.message);\r\n\t\t\t\t}\r\n\t\t\t\tthis.dialogUpdateVisible= false;\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tthis.$message.error(\"服务器出错了！\");\r\n\t\t\t});\r\n\t\t},\r\n\t\tfetchData(){\r\n\t\t\tgetVersionList(this.params.userId,this.params.package_id*1).then(response=>{\r\n\t\t\t\tconst data = response.data;\r\n\t\t\t\tif(data.code==\"0000\"){\r\n\t\t\t\t\tthis.list=data.package_version_info;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.warning(data.message);\r\n\t\t\t\t}\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tthis.$message.error(\"服务器出错了！\")\r\n\t\t\t})\r\n\t\t},\r\n\t\tfileUpSuccess(json){\r\n\t\t\tif(json.code==\"0000\"){\r\n\t\t\t\tthis.$message.success(\"上传升级包成功！\");\r\n\t\t\t\tthis.fetchData();\r\n\t\t\t}else{\r\n\t\t\t\tthis.$message.warning(json.message);\r\n\t\t\t}\r\n\t\t\tthis.dialogUploadVisible =false;\r\n\t\t},\r\n\t\tfileUpError(json){\r\n\t\t\tthis.$message.error(\"服务器出错了！\")\r\n\t\t\tthis.dialogUploadVisible =false;\r\n\t\t},\r\n\t\thandlePreview(){\r\n\r\n\t\t},\r\n\t\tbeforeUpload(file){\r\n\t\t\tconst isLt50M = file.size/1024/1024 < 50000;\r\n\t\t\tif(isLt50M){\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.$message.warning(\"文件大小不超过50000M\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tdialogVersionVisible:false,\r\n\t\t\tdialogUpdateVisible:false,\r\n\t\t\tdialogUploadVisible:false,\r\n\t\t\tloading:false,\r\n    \t\thighlight:true,\r\n    \t\theaders:{\r\n\t\t\t\tAuthorization:this.$store.getters.token\r\n    \t\t},\r\n\t\t\tdata:{\r\n\t\t\t\tterminal_id:this.$route.params.terminalId,\r\n\t\t\t\tpackage_id:this.$route.params.packageId,\r\n\t\t\t\tpackage_version_id:\"\"\r\n\t\t\t},\r\n\t\t\tlist:[],\r\n\t\t\tparams:{\r\n\t\t\t\tuserId:this.$store.getters.userId,\r\n\t\t\t\tpackage_id:this.$route.params.packageId\r\n\t\t\t},\r\n\t\t\tversionForm:{\r\n\t\t\t\tuserId:this.$store.getters.userId*1,\r\n\t\t\t\tpackage_id:this.$route.params.packageId*1,\r\n\t\t\t\tpackage_version:\"\",\r\n\t\t\t\tintroduce:\"\"\r\n\t\t\t},\r\n\t\t\tupdateVersionForm:{\r\n\t\t\t\tuserId:this.$store.getters.userId,\r\n\t\t\t\tversion_id:\"\",\r\n\t\t\t\tpackage_version:\"\",\r\n\t\t\t\tintroduce:\"\"\r\n\t\t\t},\r\n\t\t\trules:{\r\n\t\t\t\tpackage_version:[\r\n\t\t\t\t\t{ required: true, max:60,message: '填写正确的版本号', trigger: 'blur' }\r\n\t\t\t\t],\r\n\t\t\t\tintroduce:[\r\n\t\t\t\t\t{ max:120,message: '描述太长', trigger: 'blur' }\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tthis.fetchData();\r\n\t}\r\n}\r\n</script>\r\n<style type=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.upload-box .el-upload-dragger{\r\n\t\t max-width: 100%;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// versionList.vue?1effd364","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".upload-box .el-upload-dragger[data-v-51227b46]{max-width:100%}\", \"\", {\"version\":3,\"sources\":[\"E:/dev/study/admin/src/views/terminal/versionList.vue\"],\"names\":[],\"mappings\":\"AACA,gDACE,cAAgB,CACjB\",\"file\":\"versionList.vue\",\"sourcesContent\":[\"\\n.upload-box .el-upload-dragger[data-v-51227b46] {\\n  max-width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-51227b46\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/terminal/versionList.vue\n// module id = 933\n// module chunks = 28"],"sourceRoot":""}
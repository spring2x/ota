webpackJsonp([15],{1208:function(t,e,a){var r=a(921);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(573)("2651d463",r,!0)},1284:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-container"},[a("div",{staticClass:"clearfix item-wrap"},t._l(t.list,function(e,r){return a("div",{staticClass:"card-item"},[a("el-card",{staticClass:"card-block",attrs:{"body-style":{padding:"10px"}}},[a("div",{staticClass:"clearfix",slot:"header"},[a("span",{staticStyle:{"line-height":"36px"}},[t._v(t._s(e.terminalType)+" (id="+t._s(e.terminalId)+")")]),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(a){t.del(e)}}},[a("i",{staticClass:"el-icon-delete"})]),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(a){t.showEditDailog(e)}}},[a("i",{staticClass:"el-icon-edit"})])],1),t._v(" "),a("div",{staticClass:"info"},[a("p",{staticClass:"intro"},[a("b",[t._v("所有者：")]),t._v(t._s(e.userName))]),t._v(" "),a("p",{staticClass:"intro"},[a("b",[t._v("认证URL：")]),a("br"),t._v(t._s(e.platformUrl))]),t._v(" "),a("p",{staticClass:"intro"},[a("b",[t._v("简介：")]),a("br"),t._v(t._s(e.terminalIntroduce))])]),t._v(" "),a("div",{staticClass:"bottom clearfix"},[a("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(a){t.toUser(e)}}},[t._v("人员信息")]),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(a){t.toPackage(e)}}},[t._v("升级包管理")])],1)])],1)})),t._v(" "),a("el-dialog",{attrs:{title:"更新终端信息",visible:t.dialogFormVisible,"lock-scroll":!0,size:"tiny"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"termialForm",attrs:{model:t.termialForm,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"终端类型名称",prop:"type"}},[a("el-input",{attrs:{maxlength:60},model:{value:t.termialForm.type,callback:function(e){t.termialForm.type=e},expression:"termialForm.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"业务平台认证URL",prop:"businessPlatformUrl"}},[a("el-input",{attrs:{maxlength:100},model:{value:t.termialForm.businessPlatformUrl,callback:function(e){t.termialForm.businessPlatformUrl=e},expression:"termialForm.businessPlatformUrl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"简介",prop:"introduce"}},[a("el-input",{attrs:{maxlength:120,type:"textarea"},model:{value:t.termialForm.introduce,callback:function(e){t.termialForm.introduce=e},expression:"termialForm.introduce"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.update()}}},[t._v("更新")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}},620:function(t,e,a){function r(t){a(1208)}var i=a(21)(a(884),a(1284),r,"data-v-263115e7",null);t.exports=i.exports},651:function(t,e,a){"use strict";function r(t){return a.i(_.a)({url:"/ong/terminal?cmd=add_terminal",method:"post",data:t})}function i(t){return a.i(_.a)({url:"/ong/terminal?cmd=update_terminal_info",method:"post",data:t})}function n(t,e,r,i){var n={userId:t,terminal_id:e,cur_userId:r,competence_type:i};return a.i(_.a)({url:"/ong/terminal?cmd=update_terminal_user_competence",method:"post",data:n})}function o(){var t={};return a.i(_.a)({url:"/ong/terminal/get_terminals",method:"post",data:t})}function s(t,e){var r={userId:t,terminal_id:e};return a.i(_.a)({url:"/ong/terminal/deleteTerminal",method:"post",data:r})}function l(t,e,r,i){var n={cur_userId:t,terminal_id:e,userId:r,competence_type:i};return a.i(_.a)({url:"/ong/terminal?cmd=add_terminal_user",method:"post",data:n})}function c(t){return a.i(_.a)({url:"/ong/terminal/get_user_terminal_competence",method:"post",data:{terminal_id:t}})}function d(t){var e=t;return a.i(_.a)({url:"/ong/package?cmd=add_package",method:"post",data:e})}function u(t){var e=t;return a.i(_.a)({url:"/ong/package?cmd=update_package",method:"post",data:e})}function m(t){return a.i(_.a)({url:"/ong/package/get_packages",method:"post",data:t})}function p(t){return a.i(_.a)({url:"/ong/package/delete_package",method:"post",data:t})}function g(t){return a.i(_.a)({url:"/ong/version?cmd=add_version",method:"post",data:t})}function f(t){return a.i(_.a)({url:"/ong/version?cmd=update_package_version",method:"post",data:t})}function v(t,e){var r={userId:t,package_id:e};return a.i(_.a)({url:"/ong/version/get_package_version_info",method:"post",data:r})}function A(t,e){var r={userId:t,version_id:e};return a.i(_.a)({url:"/ong/version/delete_package_version",method:"post",data:r})}function h(){var t={terminal_id:"2",package_id:"2",package_version_id:"2"};return a.i(_.a)({url:"/ong/packageFile/packageFilesInfo",method:"post",data:t})}e.p=r,e.o=i,e.g=n,e.m=o,e.n=s,e.h=l,e.f=c,e.j=d,e.k=u,e.i=m,e.l=p,e.b=g,e.d=f,e.e=v,e.c=A,e.a=h;var _=a(230),b=a(97);a.n(b)},652:function(t,e,a){"use strict";function r(t){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(t)}function i(t){return/^1[34578]\d{9}$/.test(t)}function n(t){return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,16}$/.test(t)}e.a=r,e.b=i,e.c=n},717:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var r=[{id:1,introduce:"超级管理员权限，对终端具有所有增删改查权限",name:"超级管理员",type:0},{id:2,introduce:"管理员权限，对终端只具有增加、修改、查看权限",name:"管理员",type:1},{id:3,introduce:"普通权限，对终端只有查看权限",name:"普通用户",type:2}]},884:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(652),i=a(651),n=a(717);e.default={methods:{handleType:function(t,e,a){var r=t.competenceType;return 0==r?"超级管理员":1==r?"管理员":2==r?"普通用户":void 0},tableRowClassName:function(t,e){return 1===e?"info-row":3===e?"positive-row":""},toUser:function(t){var e=t.terminalId;this.$router.push({path:"/terminal/userList/"+e})},toPackage:function(t){var e=t.terminalId;this.$router.push({path:"/terminal/packageList/"+e})},fetchData:function(){var t=this;this.loading=!0;var e=this.$store.getters.userId;a.i(i.m)({userId:e}).then(function(e){t.loading=!1;var a=e.data;"0000"===a.code?t.list=a.terminals.terminalArray:t.$message.warning(a.message)}).catch(function(e){t.loading=!0,t.$message.error(e.message?e.message:"服务器出错了！")})},del:function(t){var e=this,r=t.terminalId,n=t.terminalType;this.$confirm("确定要删除"+n+"?").then(function(t){a.i(i.n)(e.userId,r).then(function(t){var a=t.data;"0000"===a.code?(e.$message.success("删除成功"),e.fetchData()):e.$message.warning(a.message)}).catch(function(t){e.$message.error(t.message?t.message:"服务器出错了！")})}).catch(function(t){})},showEditDailog:function(t){this.dialogFormVisible=!0,this.termialForm={businessPlatformUrl:t.platformUrl,terminal_id:t.terminalId,type:t.terminalType,introduce:t.terminalIntroduce,userId:this.userId}},update:function(){var t=this;this.$refs.termialForm.validate(function(e){e&&(t.dialogFormVisible=!1,a.i(i.o)(t.termialForm).then(function(e){var a=e.data;(a.code="0000")?(t.$message.success("更新成功"),t.fetchData()):t.$message.warning(a.message)}).catch(function(e){t.$message.error(e.message?e.message:"服务器出错了！")}))})}},data:function(){var t=function(t,e,i){a.i(r.a)(e)?i():i(new Error("URL格式不正确"))};return{list:[],loading:!1,highlight:!0,dialogFormVisible:!1,userId:this.$store.getters.userId,termialForm:{businessPlatformUrl:"",terminal_id:"",type:"",introduce:"",userId:""},rules:{businessPlatformUrl:[{required:!0,message:"业务平台认证URL必填",trigger:"blur"},{max:100,message:"URL长度不能超过100",trigger:"blur"},{validator:t,trigger:"blur"}],type:[{required:!0,message:"终端类型名称必填",trigger:"blur"},{max:60,message:"名称长度不能超过60",trigger:"blur"}],introduce:[{max:120,message:"简介太长",trigger:"blur"}]}}},created:function(){this.fetchData()},filters:{competenceTypeToText:function(t){for(var e=0;e<n.a.length;e++)if(t==n.a[e].type)return n.a[e].name}}}},921:function(t,e,a){e=t.exports=a(572)(!0),e.push([t.i,".item-wrap[data-v-263115e7]{width:1300px;margin:0 auto}.item-wrap .card-item[data-v-263115e7]{float:left;height:300px;width:33.33%;padding:20px}.item-wrap .card-item .card-block[data-v-263115e7]{height:100%;width:100%}.item-wrap .card-item .card-block .info[data-v-263115e7]{height:130px;overflow-y:auto}.item-wrap .card-item .card-block .intro[data-v-263115e7],.item-wrap .card-item .card-block .url[data-v-263115e7]{font-size:14px;color:gray;margin:5px 0}.bottom[data-v-263115e7]{margin-top:13px;line-height:12px}.button[data-v-263115e7]{padding:0;float:right;margin-right:15px}","",{version:3,sources:["E:/dev/study/admin/src/views/terminal/list.vue"],names:[],mappings:"AACA,4BACE,aAAc,AACd,aAAe,CAChB,AACD,uCACI,WAAY,AACZ,aAAc,AACd,aAAc,AACd,YAAc,CACjB,AACD,mDACM,YAAa,AACb,UAAY,CACjB,AACD,yDACQ,aAAc,AACd,eAAiB,CACxB,AACD,kHACQ,eAAgB,AAChB,WAAY,AACZ,YAAgB,CACvB,AACD,yBACE,gBAAiB,AACjB,gBAAkB,CACnB,AACD,yBACE,UAAW,AACX,YAAa,AACb,iBAAmB,CACpB",file:"list.vue",sourcesContent:["\n.item-wrap[data-v-263115e7] {\n  width: 1300px;\n  margin: 0 auto;\n}\n.item-wrap .card-item[data-v-263115e7] {\n    float: left;\n    height: 300px;\n    width: 33.33%;\n    padding: 20px;\n}\n.item-wrap .card-item .card-block[data-v-263115e7] {\n      height: 100%;\n      width: 100%;\n}\n.item-wrap .card-item .card-block .info[data-v-263115e7] {\n        height: 130px;\n        overflow-y: auto;\n}\n.item-wrap .card-item .card-block .intro[data-v-263115e7], .item-wrap .card-item .card-block .url[data-v-263115e7] {\n        font-size: 14px;\n        color: gray;\n        margin: 5px 0px;\n}\n.bottom[data-v-263115e7] {\n  margin-top: 13px;\n  line-height: 12px;\n}\n.button[data-v-263115e7] {\n  padding: 0;\n  float: right;\n  margin-right: 15px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=15.6e7d3c21696fb040dbc9.js.map
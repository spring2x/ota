{"version":3,"sources":["webpack:///static/js/35.864f4ebe42d40d04273f.js","webpack:///./src/views/terminal/packageList.vue?e94f","webpack:///./src/views/terminal/packageList.vue","webpack:///./src/api/terminal.js?27bd***","webpack:///packageList.vue"],"names":["webpackJsonp","1316","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","inline","to","type","_v","size","on","click","$event","dialogAddPackageVisible","directives","name","rawName","value","expression","modifiers","body","staticStyle","width","data","list","highlight-current-row","highlight","element-loading-text","prop","label","scopedSlots","_u","key","fn","scope","icon","showEdit","row","del","toVersion","title","visible","lock-scroll","update:visible","close","resetForm","ref","model","packageForm","rules","label-width","maxlength","placeholder","callback","$$v","package_name","introduce","slot","addPackage","dialogUpdatePackageVisible","updatePackageForm","updatePackage","staticRenderFns","621","__webpack_require__","Component","651","__webpack_exports__","addTerminal","i","__WEBPACK_IMPORTED_MODULE_0_utils_fetch__","url","method","updateTerminal","uppdateTerminalUser","userId","terminal_id","cur_userId","competence_type","getTerminalList","params","deleteTerminal","addTerminalUser","getTerminalUser","p","getPackages","deletePackage","addVersion","updateVersion","getVersionList","package_id","delVersion","version_id","__WEBPACK_IMPORTED_MODULE_1_js_cookie__","n","885","Object","defineProperty","$","__WEBPACK_IMPORTED_MODULE_0_api_terminal__","__WEBPACK_IMPORTED_MODULE_1_utils__","__WEBPACK_IMPORTED_MODULE_2_element_ui__","methods","fetchData","_this","loading","then","response","code","packageArray","$message","message","catch","error","_this2","$refs","validate","valid","extend","success","warning","package_introduce","package_terminalId","_this3","_this4","$confirm","confirmButtonText","cancelButtonText","_","loadingInstance","service","target","text","delp","formName","resetFields","packageId","terminalId","path","$router","push","$store","getters","$route","required","trigger","max","created","call"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAgBC,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,yBACGF,EAAA,WACHG,OACAC,QAAA,KAEGJ,EAAA,gBAAAA,EAAA,eACHG,OACAE,GAAA,oBAEGL,EAAA,aACHG,OACAG,KAAA,UAEGN,EAAA,KACHE,YAAA,uBACGN,EAAAW,GAAA,gCAAAX,EAAAW,GAAA,KAAAP,EAAA,gBACHE,YAAA,OACGF,EAAA,aACHG,OACAG,KAAA,UACAE,KAAA,SAEAC,IACAC,MAAA,SAAAC,GACAf,EAAAgB,yBAAA,MAGGZ,EAAA,KACHE,YAAA,iBACGN,EAAAW,GAAA,mBAAAX,EAAAW,GAAA,KAAAP,EAAA,YACHa,aACAC,KAAA,UACAC,QAAA,iBACAC,MAAApB,EAAA,QACAqB,WAAA,UACAC,WACAC,MAAA,KAGAC,aACAC,MAAA,QAEAlB,OACAmB,KAAA1B,EAAA2B,KACAC,wBAAA5B,EAAA6B,UACAC,uBAAA,WAEG1B,EAAA,mBACHG,OACAG,KAAA,WAEGV,EAAAW,GAAA,KAAAP,EAAA,mBACHG,OACAwB,KAAA,aACAC,MAAA,WAEGhC,EAAAW,GAAA,KAAAP,EAAA,mBACHG,OACAwB,KAAA,qBACAC,MAAA,UAEGhC,EAAAW,GAAA,KAAAP,EAAA,mBACHG,OACAwB,KAAA,eACAC,MAAA,WAEGhC,EAAAW,GAAA,KAAAP,EAAA,mBACHG,OACAwB,KAAA,oBACAC,MAAA,QAEGhC,EAAAW,GAAA,KAAAP,EAAA,mBACHG,OACAyB,MAAA,KACAP,MAAA,OAEAQ,YAAAjC,EAAAkC,KACAC,IAAA,UACAC,GAAA,SAAAC,GACA,OAAAjC,EAAA,aACAG,OACAG,KAAA,UACAE,KAAA,QACA0B,KAAA,QAEAzB,IACAC,MAAA,SAAAC,GACAf,EAAAuC,SAAAF,EAAAG,SAGSxC,EAAAW,GAAA,QAAAX,EAAAW,GAAA,KAAAP,EAAA,aACTG,OACAG,KAAA,UACAE,KAAA,QACA0B,KAAA,UAEAzB,IACAC,MAAA,SAAAC,GACAf,EAAAyC,IAAAJ,EAAAG,SAGSxC,EAAAW,GAAA,QAAAX,EAAAW,GAAA,KAAAP,EAAA,aACTG,OACAG,KAAA,UACAE,KAAA,QACA0B,KAAA,eAEAzB,IACAC,MAAA,SAAAC,GACAf,EAAA0C,UAAAL,EAAAG,SAGSxC,EAAAW,GAAA,kBAGN,GAAAX,EAAAW,GAAA,KAAAP,EAAA,aACHG,OACAoC,MAAA,QACAC,QAAA5C,EAAAgB,wBACA6B,eAAA,EACAjC,KAAA,QAEAC,IACAiC,iBAAA,SAAA/B,GACAf,EAAAgB,wBAAAD,GAEAgC,MAAA,SAAAhC,GACAf,EAAAgD,UAAA,mBAGG5C,EAAA,WACH6C,IAAA,cACA1C,OACA2C,MAAAlD,EAAAmD,YACAC,MAAApD,EAAAoD,MACAC,cAAA,UAEGjD,EAAA,gBACHG,OACAyB,MAAA,MACAD,KAAA,kBAEG3B,EAAA,YACHG,OACA+C,UAAA,GACAC,YAAA,OAEAL,OACA9B,MAAApB,EAAAmD,YAAA,aACAK,SAAA,SAAAC,GACAzD,EAAAmD,YAAAO,aAAAD,GAEApC,WAAA,+BAEG,GAAArB,EAAAW,GAAA,KAAAP,EAAA,gBACHG,OACAyB,MAAA,KACAD,KAAA,eAEG3B,EAAA,YACHG,OACAG,KAAA,WACA4C,UAAA,GACAC,YAAA,MAEAL,OACA9B,MAAApB,EAAAmD,YAAA,UACAK,SAAA,SAAAC,GACAzD,EAAAmD,YAAAQ,UAAAF,GAEApC,WAAA,4BAEG,OAAArB,EAAAW,GAAA,KAAAP,EAAA,OACHE,YAAA,gBACAsD,KAAA,WACGxD,EAAA,aACHG,OACAG,KAAA,WAEAG,IACAC,MAAA,SAAAC,GACAf,EAAA6D,iBAGG7D,EAAAW,GAAA,QAAAX,EAAAW,GAAA,KAAAP,EAAA,aACHS,IACAC,MAAA,SAAAC,GACAf,EAAAgB,yBAAA,MAGGhB,EAAAW,GAAA,gBAAAX,EAAAW,GAAA,KAAAP,EAAA,aACHG,OACAoC,MAAA,QACAC,QAAA5C,EAAA8D,2BACAjB,eAAA,EACAjC,KAAA,QAEAC,IACAiC,iBAAA,SAAA/B,GACAf,EAAA8D,2BAAA/C,GAEAgC,MAAA,SAAAhC,GACAf,EAAAgD,UAAA,yBAGG5C,EAAA,WACH6C,IAAA,oBACA1C,OACA2C,MAAAlD,EAAA+D,kBACAX,MAAApD,EAAAoD,MACAC,cAAA,UAEGjD,EAAA,gBACHG,OACAyB,MAAA,MACAD,KAAA,kBAEG3B,EAAA,YACHG,OACA+C,UAAA,GACAC,YAAA,OAEAL,OACA9B,MAAApB,EAAA+D,kBAAA,aACAP,SAAA,SAAAC,GACAzD,EAAA+D,kBAAAL,aAAAD,GAEApC,WAAA,qCAEG,GAAArB,EAAAW,GAAA,KAAAP,EAAA,gBACHG,OACAyB,MAAA,KACAD,KAAA,eAEG3B,EAAA,YACHG,OACAG,KAAA,WACA4C,UAAA,GACAC,YAAA,MAEAL,OACA9B,MAAApB,EAAA+D,kBAAA,UACAP,SAAA,SAAAC,GACAzD,EAAA+D,kBAAAJ,UAAAF,GAEApC,WAAA,kCAEG,OAAArB,EAAAW,GAAA,KAAAP,EAAA,OACHE,YAAA,gBACAsD,KAAA,WACGxD,EAAA,aACHG,OACAG,KAAA,WAEAG,IACAC,MAAA,SAAAC,GACAf,EAAAgE,oBAGGhE,EAAAW,GAAA,QAAAX,EAAAW,GAAA,KAAAP,EAAA,aACHS,IACAC,MAAA,SAAAC,GACAf,EAAA8D,4BAAA,MAGG9D,EAAAW,GAAA,qBACFsD,qBDSKC,IACA,SAAUrE,EAAQC,EAASqE,GEtRjC,GAAAC,GAAAD,EAAA,IAEAA,EAAA,KAEAA,EAAA,MAEA,KAEA,KAEA,KAGAtE,GAAAC,QAAAsE,EAAAtE,SF6RMuE,IACA,SAAUxE,EAAQyE,EAAqBH,GAE7C,YGjSO,SAASI,GAAY7C,GACxB,MAAOyC,GAAAK,EAAAC,EAAA,IACHC,IAAK,iCACLC,OAAQ,OACRjD,SAMD,QAASkD,GAAelD,GAC3B,MAAOyC,GAAAK,EAAAC,EAAA,IACHC,IAAK,yCACLC,OAAQ,OACRjD,SAuBD,QAASmD,GAAoBC,EAAQC,EAAaC,EAAYC,GACjE,GAAMvD,IAASoD,SAAQC,cAAaC,aAAYC,kBAChD,OAAOd,GAAAK,EAAAC,EAAA,IACHC,IAAK,oDACLC,OAAQ,OACRjD,SAWD,QAASwD,GAAgBC,GAC5B,MAAOhB,GAAAK,EAAAC,EAAA,IACHC,IAAK,kCACLC,OAAQ,MACRQ,OAAOA,IAkBR,QAASC,GAAeN,EAAOC,GACrC,GAAMrD,IAAQoD,SAAOC,cAClB,OAAOZ,GAAAK,EAAAC,EAAA,IACHC,IAAK,qCACLC,OAAQ,SACRjD,SAMD,QAAS2D,GAAgBL,EAAWD,EAAYD,EAAOG,GAC1D,GAAMvD,IAAQsD,aAAWD,cAAYD,SAAOG,kBAC5C,OAAOd,GAAAK,EAAAC,EAAA,IACHC,IAAK,sCACLC,OAAQ,OACRjD,SAOD,QAAS4D,GAAgBP,GAC5B,MAAOZ,GAAAK,EAAAC,EAAA,IACHC,IAAK,iDACLC,OAAQ,MACRQ,QAAQJ,iBAKT,QAASlB,GAAW0B,GACvB,GAAM7D,GAAO6D,CACb,OAAOpB,GAAAK,EAAAC,EAAA,IACHC,IAAK,+BACLC,OAAQ,OACRjD,SAKD,QAASsC,GAAcuB,GAC1B,GAAM7D,GAAO6D,CACb,OAAOpB,GAAAK,EAAAC,EAAA,IACHC,IAAK,kCACLC,OAAQ,OACRjD,SAKD,QAAS8D,GAAYL,GACxB,MAAOhB,GAAAK,EAAAC,EAAA,IACHC,IAAK,gCACLC,OAAQ,MACRQ,WAKD,QAASM,GAAc/D,GAC1B,MAAOyC,GAAAK,EAAAC,EAAA,IACHC,IAAI,kCACJC,OAAO,SACPjD,SAKD,QAASgE,GAAWhE,GACvB,MAAOyC,GAAAK,EAAAC,EAAA,IACHC,IAAK,+BACLC,OAAQ,OACRjD,SAKD,QAASiE,GAAcjE,GAC1B,MAAOyC,GAAAK,EAAAC,EAAA,IACHC,IAAK,0CACLC,OAAQ,OACRjD,SAKD,QAASkE,GAAed,EAAOe,GAClC,GAAMV,IAASL,SAAOe,aACtB,OAAO1B,GAAAK,EAAAC,EAAA,IACHC,IAAK,4CACLC,OAAQ,MACRQ,WAKD,QAASW,GAAWhB,EAAOiB,GAC9B,GAAMrE,IAAOoD,SAAOiB,aACpB,OAAO5B,GAAAK,EAAAC,EAAA,IACHC,IAAK,0CACLC,OAAQ,SACRjD,SHgHyB4C,EAAuB,EAAIC,EAC3BD,EAAuB,EAAIM,EAE3BN,EAAuB,EAAIO,EAC3BP,EAAuB,EAAIY,EAE3BZ,EAAuB,EAAIc,EAC3Bd,EAAuB,EAAIe,EAC3Bf,EAAuB,EAAIgB,EAC3BhB,EAAuB,EAAIT,EAC3BS,EAAuB,EAAIN,EAC3BM,EAAuB,EAAIkB,EAC3BlB,EAAuB,EAAImB,EAC3BnB,EAAuB,EAAIoB,EAC3BpB,EAAuB,EAAIqB,EAC3BrB,EAAuB,EAAIsB,EAC3BtB,EAAuB,EAAIwB,CACvC,IAAIrB,GAA4CN,EAAoB,KAChE6B,EAA0C7B,EAAoB,GACZA,GAAoB8B,EAAED,IAqJ3FE,IACA,SAAUrG,EAAQyE,EAAqBH,GAE7C,YACAgC,QAAOC,eAAe9B,EAAqB,cAAgBlD,OAAO,IACtC,SAASiF,GAAyB,GAAIC,GAA6CnC,EAAoB,KAC1GoC,EAAsCpC,EAAoB,IAC1DqC,EAA2CrC,EAAoB,GACZA,GAAoB8B,EAAEO,EAMrElC,GAA6B,SACxDmC,SACEC,UAAW,WInYf,GAAAC,GAAA1G,IJsYMA,MAAK2G,SIrYX,CJsYM,IAAIzB,GAASlF,KIrYnBkF,MJsYMhB,GAAoBK,EAAE8B,EAAgE,GAAGnB,GAAQ0B,KAAK,SAAUC,GAC9GH,EAAMC,SIrYd,CJsYQ,IAAIlF,GAAOoF,EIrYnBpF,IJsY0B,UAAdA,EAAKqF,KACPJ,EAAMhF,KAAOD,EIrYvBsF,aJuYUL,EAAMM,SAASvF,EIrYzBwF,WJuYSC,MAAM,SAAUC,GACjBT,EAAMC,SIrYd,EJsYQD,EAAMM,UAAWC,QAAS,UAAWxG,KIrY7C,aJwYImD,WAAY,WIrYhB,GAAAwD,GAAApH,IJwYMA,MAAKqH,MAAMnE,YAAYoE,SAAS,SAAUC,GACxC,GAAIA,EIvYZ,CJwYUH,EAAOrG,yBIvYjB,CJwYU,IAAIU,GAAO2E,EAAEoB,OAAOtD,EAAoBK,EAAE+B,EAAuD,GAAGc,EAAOlC,QAASkC,EIvY9HlE,YJwYUgB,GAAoBK,EAAE8B,EAA+D,GAAG5E,GAAMmF,KAAK,SAAUC,GAC3G,GAAIpF,GAAOoF,EIvYvBpF,IJwY6B,SAAbA,EAAKqF,MACPM,EAAOJ,SAASS,QIvY9B,YJwYcL,EIvYdX,aJyYcW,EAAOJ,SAASU,QAAQjG,EIvYtCwF,WJyYaC,MAAM,SAAUC,GACjBC,EAAOJ,SAASG,MAAMA,EAAMF,QAAUE,EAAMF,QIvYxD,iBJ4YI3E,SAAU,SAAkBgD,GAC1BtF,KAAK6D,4BIvYX,EJwYM7D,KAAK8D,kBAAkBL,aAAe6B,EIvY5C7B,aJwYMzD,KAAK8D,kBAAkB8B,WAAaN,EIvY1CM,WJwYM5F,KAAK8D,kBAAkBJ,UAAY4B,EIvYzCqC,kBJwYM3H,KAAK8D,kBAAkBgB,YAAcQ,EIvY3CsC,oBJyYI7D,cAAe,WIvYnB,GAAA8D,GAAA7H,IJ0YMA,MAAKqH,MAAMvD,kBAAkBwD,SAAS,SAAUC,GAC9C,GAAIA,EIzYZ,CJ0YUM,EAAOhE,4BIzYjB,CJ0YU,IAAIpC,GAAO2E,EAAEoB,OAAOtD,EAAoBK,EAAE+B,EAAuD,GAAGuB,EAAO3C,QAAS2C,EIzY9H/D,kBJ0YUI,GAAoBK,EAAE8B,EAAkE,GAAG5E,GAAMmF,KAAK,SAAUC,GAC9G,GAAIpF,GAAOoF,EIzYvBpF,IJ0Y6B,SAAbA,EAAKqF,MACPe,EAAOb,SAASS,QIzY9B,SJ0YcI,EIzYdpB,aJ2YcoB,EAAOb,SAASU,QAAQjG,EIzYtCwF,WJ2YaC,MAAM,SAAUC,GACjBU,EAAOb,SAASG,MAAMA,EAAMF,QAAUE,EAAMF,QIzYxD,iBJ8YIzE,IAAK,SAAa8C,GIzYtB,GAAAwC,GAAA9H,IJ4YMA,MAAK+H,SAAS,SAAWzC,EAAE7B,aAAe,IAAK,MAC7CuE,kBI3YR,KJ4YQC,iBI3YR,KJ4YQxH,KI3YR,YAHAmG,KAAA,SAAAsB,GJgZQ,GAAIC,GAAkB5B,EAAkD,QAAE6B,SAAUC,OAAQjC,EAAE,yBAAyB,GAAIkC,KI3YnI,WJ4YYC,EAAOnC,EAAEoB,OAAOtD,EAAoBK,EAAE+B,EAAuD,GAAGwB,EAAO5C,QI3YnHI,EJ4YQpB,GAAoBK,EAAE8B,EAAkE,GAAGkC,GAAM3B,KAAK,SAAUC,GAC9G,GAAIpF,GAAOoF,EI3YrBpF,IJ4YU0G,GI3YVrF,QJ4Y2B,QAAbrB,EAAKqF,MACPgB,EAAOd,SAASS,QI3Y5B,SJ4YYK,EI3YZrB,aJ6YYqB,EAAOd,SAASU,QAAQjG,EI3YpCwF,WJ6YWC,MAAM,SAAUC,GACjBgB,EI3YVrF,QJ4YUgF,EAAOd,SAASG,MAAMA,EAAMF,QAAUE,EAAMF,QI3YtD,eJ6YSC,MAAM,SAAUgB,OAErBnF,UAAW,SAAmByF,GAC5BxI,KAAKqH,MAAMmB,GIzYjBC,eJ2YIhG,UAAW,SAAmB6C,GAC5B,GAAIoD,GAAYpD,EIzYtBM,WJ0YU+C,EAAa3I,KAAKkF,OIzY5BJ,YJ0YU8D,EAAO,aAAeD,EAAa,YAAcD,EIzY3D,cJ0YM1I,MAAK6I,QAAQC,MIzYnBF,WJ4YEnH,KAAM,WACJ,OACEC,QACAiF,SIzYN,EJ0YM/E,WIzYN,EJ0YMb,yBIzYN,EJ0YM8C,4BIzYN,EJ0YMqB,QACEL,OAAQ7E,KAAK+I,OAAOC,QIzY5BnE,OJ0YQC,YAAa9E,KAAKiJ,OAAO/D,OIxYjCyD,YJ0YMzF,aACEO,aIzYR,GJ0YQC,UIxYR,IJ0YMI,mBACEL,aIzYR,GJ0YQC,UIzYR,GJ0YQkC,WIzYR,GJ0YQd,YIxYR,IJ0YM3B,OACEM,eIzYRyF,UAAA,EAAAjC,QAAA,OAAAkC,QACA,SAAAC,IAAA,GAAAnC,QAAA,aAAAkC,QAEA,SJuYQzF,YItYR0F,IAAA,GAAAnC,QAAA,OAAAkC,QAIA,YJsYEE,QAAS,WACPrJ,KIpYJyG,eJuY6B6C,KAAKjF,EAAqBH,EAAoB","file":"static/js/35.864f4ebe42d40d04273f.js","sourcesContent":["webpackJsonp([35],{\n\n/***/ 1316:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"components-container\"\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', [_c('router-link', {\n    attrs: {\n      \"to\": \"/terminal/list\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  }), _vm._v(\"返回\\n\\t            \")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"fr\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddPackageVisible = true\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  }), _vm._v(\"添加升级包\")])], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"highlight-current-row\": _vm.highlight,\n      \"element-loading-text\": \"拼命加载中\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_id\",\n      \"label\": \"升级包ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_terminalId\",\n      \"label\": \"终端ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_name\",\n      \"label\": \"升级包名称\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_introduce\",\n      \"label\": \"描述\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"300\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"edit\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showEdit(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"delete\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.del(scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"information\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.toVersion(scope.row)\n            }\n          }\n        }, [_vm._v(\"版本管理\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"添加升级包\",\n      \"visible\": _vm.dialogAddPackageVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogAddPackageVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('packageForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"packageForm\",\n    attrs: {\n      \"model\": _vm.packageForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"包名称\",\n      \"prop\": \"package_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 16,\n      \"placeholder\": \"包名称\"\n    },\n    model: {\n      value: (_vm.packageForm.package_name),\n      callback: function($$v) {\n        _vm.packageForm.package_name = $$v\n      },\n      expression: \"packageForm.package_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 70,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.packageForm.introduce),\n      callback: function($$v) {\n        _vm.packageForm.introduce = $$v\n      },\n      expression: \"packageForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addPackage()\n      }\n    }\n  }, [_vm._v(\"添加\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddPackageVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"更新升级包\",\n      \"visible\": _vm.dialogUpdatePackageVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogUpdatePackageVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('updatePackageForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"updatePackageForm\",\n    attrs: {\n      \"model\": _vm.updatePackageForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"包名称\",\n      \"prop\": \"package_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 16,\n      \"placeholder\": \"包名称\"\n    },\n    model: {\n      value: (_vm.updatePackageForm.package_name),\n      callback: function($$v) {\n        _vm.updatePackageForm.package_name = $$v\n      },\n      expression: \"updatePackageForm.package_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 70,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.updatePackageForm.introduce),\n      callback: function($$v) {\n        _vm.updatePackageForm.introduce = $$v\n      },\n      expression: \"updatePackageForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.updatePackage()\n      }\n    }\n  }, [_vm._v(\"确定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogUpdatePackageVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 621:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(21)(\n  /* script */\n  __webpack_require__(885),\n  /* template */\n  __webpack_require__(1316),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 651:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"o\"] = addTerminal;\n/* harmony export (immutable) */ __webpack_exports__[\"n\"] = updateTerminal;\n/* unused harmony export addTerminalUseUser */\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = uppdateTerminalUser;\n/* harmony export (immutable) */ __webpack_exports__[\"l\"] = getTerminalList;\n/* unused harmony export getCompetenceList */\n/* harmony export (immutable) */ __webpack_exports__[\"m\"] = deleteTerminal;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = addTerminalUser;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = getTerminalUser;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = addPackage;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = updatePackage;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = getPackages;\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = deletePackage;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addVersion;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = updateVersion;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getVersionList;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = delVersion;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_utils_fetch__ = __webpack_require__(230);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_js_cookie__ = __webpack_require__(97);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_js_cookie___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_js_cookie__);\n\n\n\nfunction addTerminal(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=add_terminal',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction updateTerminal(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=update_terminal_info',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction addTerminalUseUser(userId, terminal_id, cur_userId, competence_type) {\n    var data = { userId: userId, terminal_id: terminal_id, cur_userId: cur_userId, competence_type: competence_type };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=add_terminal_user',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction uppdateTerminalUser(userId, terminal_id, cur_userId, competence_type) {\n    var data = { userId: userId, terminal_id: terminal_id, cur_userId: cur_userId, competence_type: competence_type };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=update_terminal_user_competence',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getTerminalList(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=get_terminals',\n        method: \"get\",\n        params: params\n    });\n}\n\nfunction getCompetenceList() {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=get_terminal_competence',\n        method: \"get\"\n    });\n}\n\nfunction deleteTerminal(userId, terminal_id) {\n    var data = { userId: userId, terminal_id: terminal_id };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=delete_terminals',\n        method: \"delete\",\n        data: data\n    });\n}\n\nfunction addTerminalUser(cur_userId, terminal_id, userId, competence_type) {\n    var data = { cur_userId: cur_userId, terminal_id: terminal_id, userId: userId, competence_type: competence_type };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=add_terminal_user',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getTerminalUser(terminal_id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/terminal?cmd=get_user_terminal_competence',\n        method: \"get\",\n        params: { terminal_id: terminal_id }\n    });\n}\n\nfunction addPackage(p) {\n    var data = p;\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package?cmd=add_package',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction updatePackage(p) {\n    var data = p;\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package?cmd=update_package',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getPackages(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package?cmd=get_packages',\n        method: \"get\",\n        params: params\n    });\n}\n\nfunction deletePackage(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/package?cmd=delete_package',\n        method: \"delete\",\n        data: data\n    });\n}\n\nfunction addVersion(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version?cmd=add_version',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction updateVersion(data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version?cmd=update_package_version',\n        method: \"post\",\n        data: data\n    });\n}\n\nfunction getVersionList(userId, package_id) {\n    var params = { userId: userId, package_id: package_id };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version?cmd=get_package_version_info',\n        method: \"get\",\n        params: params\n    });\n}\n\nfunction delVersion(userId, version_id) {\n    var data = { userId: userId, version_id: version_id };\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_fetch__[\"a\" /* default */])({\n        url: '/ong/version?cmd=delete_package_version',\n        method: \"delete\",\n        data: data\n    });\n}\n\n/***/ }),\n\n/***/ 885:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_api_terminal__ = __webpack_require__(651);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_utils__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_element_ui__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  methods: {\n    fetchData: function fetchData() {\n      var _this = this;\n\n      this.loading = true;\n      var params = this.params;\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"h\" /* getPackages */])(params).then(function (response) {\n        _this.loading = false;\n        var data = response.data;\n        if (data.code === \"0000\") {\n          _this.list = data.packageArray;\n        } else {\n          _this.$message(data.message);\n        }\n      }).catch(function (error) {\n        _this.loading = true;\n        _this.$message({ message: \"服务器出错了！\", type: \"error\" });\n      });\n    },\n    addPackage: function addPackage() {\n      var _this2 = this;\n\n      this.$refs.packageForm.validate(function (valid) {\n        if (valid) {\n          _this2.dialogAddPackageVisible = false;\n          var data = $.extend(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils__[\"a\" /* deepClone */])(_this2.params), _this2.packageForm);\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"i\" /* addPackage */])(data).then(function (response) {\n            var data = response.data;\n            if (data.code == \"0000\") {\n              _this2.$message.success(\"添加升级包成功！\");\n              _this2.fetchData();\n            } else {\n              _this2.$message.warning(data.message);\n            }\n          }).catch(function (error) {\n            _this2.$message.error(error.message ? error.message : \"服务器出错了！\");\n          });\n        }\n      });\n    },\n    showEdit: function showEdit(p) {\n      this.dialogUpdatePackageVisible = true;\n      this.updatePackageForm.package_name = p.package_name;\n      this.updatePackageForm.package_id = p.package_id;\n      this.updatePackageForm.introduce = p.package_introduce;\n      this.updatePackageForm.terminal_id = p.package_terminalId;\n    },\n    updatePackage: function updatePackage() {\n      var _this3 = this;\n\n      this.$refs.updatePackageForm.validate(function (valid) {\n        if (valid) {\n          _this3.dialogUpdatePackageVisible = false;\n          var data = $.extend(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils__[\"a\" /* deepClone */])(_this3.params), _this3.updatePackageForm);\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"j\" /* updatePackage */])(data).then(function (response) {\n            var data = response.data;\n            if (data.code == \"0000\") {\n              _this3.$message.success(\"更新成功！\");\n              _this3.fetchData();\n            } else {\n              _this3.$message.warning(data.message);\n            }\n          }).catch(function (error) {\n            _this3.$message.error(error.message ? error.message : \"服务器出错了！\");\n          });\n        }\n      });\n    },\n    del: function del(p) {\n      var _this4 = this;\n\n      this.$confirm(\"确定要删除:\" + p.package_name + \"?\", \"提示\", {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function (_) {\n        var loadingInstance = __WEBPACK_IMPORTED_MODULE_2_element_ui__[\"Loading\"].service({ target: $(\".components-container\")[0], text: \"删除中...\" });\n        var delp = $.extend(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils__[\"a\" /* deepClone */])(_this4.params), p);\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_terminal__[\"k\" /* deletePackage */])(delp).then(function (response) {\n          var data = response.data;\n          loadingInstance.close();\n          if (data.code == \"0000\") {\n            _this4.$message.success(\"删除成功！\");\n            _this4.fetchData();\n          } else {\n            _this4.$message.warning(data.message);\n          }\n        }).catch(function (error) {\n          loadingInstance.close();\n          _this4.$message.error(error.message ? error.message : \"服务器出错了！\");\n        });\n      }).catch(function (_) {});\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    toVersion: function toVersion(p) {\n      var packageId = p.package_id;\n      var terminalId = this.params.terminal_id;\n      var path = '/terminal/' + terminalId + '/package/' + packageId + \"/versionList\";\n      this.$router.push({ path: path });\n    }\n  },\n  data: function data() {\n    return {\n      list: [],\n      loading: false,\n      highlight: true,\n      dialogAddPackageVisible: false,\n      dialogUpdatePackageVisible: false,\n      params: {\n        userId: this.$store.getters.userId,\n        terminal_id: this.$route.params.terminalId\n      },\n      packageForm: {\n        package_name: \"\",\n        introduce: \"\"\n      },\n      updatePackageForm: {\n        package_name: \"\",\n        introduce: \"\",\n        package_id: \"\",\n        terminal_id: \"\"\n      },\n      rules: {\n        package_name: [{ required: true, message: '名称必填', trigger: 'blur' }, { max: 16, message: '名称长度不能超过16', trigger: 'blur' }],\n        introduce: [{ max: 74, message: '描述太长', trigger: \"blur\" }]\n      }\n    };\n  },\n  created: function created() {\n    this.fetchData();\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(151)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/35.864f4ebe42d40d04273f.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"components-container\"\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', [_c('router-link', {\n    attrs: {\n      \"to\": \"/terminal/list\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  }), _vm._v(\"返回\\n\\t            \")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"fr\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddPackageVisible = true\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  }), _vm._v(\"添加升级包\")])], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"highlight-current-row\": _vm.highlight,\n      \"element-loading-text\": \"拼命加载中\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_id\",\n      \"label\": \"升级包ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_terminalId\",\n      \"label\": \"终端ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_name\",\n      \"label\": \"升级包名称\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"package_introduce\",\n      \"label\": \"描述\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"300\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"edit\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showEdit(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"delete\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.del(scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"information\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.toVersion(scope.row)\n            }\n          }\n        }, [_vm._v(\"版本管理\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"添加升级包\",\n      \"visible\": _vm.dialogAddPackageVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogAddPackageVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('packageForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"packageForm\",\n    attrs: {\n      \"model\": _vm.packageForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"包名称\",\n      \"prop\": \"package_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 16,\n      \"placeholder\": \"包名称\"\n    },\n    model: {\n      value: (_vm.packageForm.package_name),\n      callback: function($$v) {\n        _vm.packageForm.package_name = $$v\n      },\n      expression: \"packageForm.package_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 70,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.packageForm.introduce),\n      callback: function($$v) {\n        _vm.packageForm.introduce = $$v\n      },\n      expression: \"packageForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addPackage()\n      }\n    }\n  }, [_vm._v(\"添加\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddPackageVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"更新升级包\",\n      \"visible\": _vm.dialogUpdatePackageVisible,\n      \"lock-scroll\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogUpdatePackageVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.resetForm('updatePackageForm')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"updatePackageForm\",\n    attrs: {\n      \"model\": _vm.updatePackageForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"70px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"包名称\",\n      \"prop\": \"package_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 16,\n      \"placeholder\": \"包名称\"\n    },\n    model: {\n      value: (_vm.updatePackageForm.package_name),\n      callback: function($$v) {\n        _vm.updatePackageForm.package_name = $$v\n      },\n      expression: \"updatePackageForm.package_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"introduce\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"maxlength\": 70,\n      \"placeholder\": \"描述\"\n    },\n    model: {\n      value: (_vm.updatePackageForm.introduce),\n      callback: function($$v) {\n        _vm.updatePackageForm.introduce = $$v\n      },\n      expression: \"updatePackageForm.introduce\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.updatePackage()\n      }\n    }\n  }, [_vm._v(\"确定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogUpdatePackageVisible = false;\n      }\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7dbf8bcb\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/terminal/packageList.vue\n// module id = 1316\n// module chunks = 35","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./packageList.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7dbf8bcb\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./packageList.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/terminal/packageList.vue\n// module id = 621\n// module chunks = 35","import fetch from 'utils/fetch';\r\nimport Cookies from 'js-cookie';\r\n\r\n/*\r\n添加终端\r\n用户id，必填\r\n终端类型名称，必填\r\n业务平台认证的url，必填\r\n简介，选填\r\n*/\r\n\r\n\r\nexport function addTerminal(data) {\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=add_terminal',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n\r\n//更新终端信息\r\nexport function updateTerminal(data) {\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=update_terminal_info',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n/*\r\n添加终端的使用用户\r\n需要被添加的用户id，必填\r\n终端类型id,必填\r\n当前操作的用户（已经登陆的用户）id,必填\r\n添加用户的终端权限(1—管理员权限（读、写），2—普通用户权限（读）)，必填\r\n*/\r\nexport function addTerminalUseUser(userId, terminal_id, cur_userId, competence_type) {\r\n    const data = { userId, terminal_id, cur_userId, competence_type };\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=add_terminal_user',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n/*\r\n更新终端用户的使用权限\r\n*/\r\nexport function uppdateTerminalUser(userId, terminal_id, cur_userId, competence_type) {\r\n    const data = { userId, terminal_id, cur_userId, competence_type };\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=update_terminal_user_competence',\r\n        method: \"post\",\r\n        data\r\n    }) \r\n}\r\n\r\n\r\n/*\r\n获取终端类型列表\r\nterminal_id\t终端类型id，选填\r\nuserId\t\t用户id，选填\r\ncompetence_type\t用户终端权限，选填\r\n*/\r\nexport function getTerminalList(params) {\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=get_terminals',\r\n        method: \"get\",\r\n        params:params\r\n    })\r\n}\r\n/*\r\n获取权限列表\r\n@return \r\ntype 0 1 2  \r\n*/\r\nexport function getCompetenceList() {\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=get_terminal_competence',\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\n/*\r\n删除终端类型  delete_terminals\r\n*/\r\nexport function deleteTerminal(userId,terminal_id) {\r\n\tconst data = {userId,terminal_id};\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=delete_terminals',\r\n        method: \"delete\",\r\n        data\r\n    })\r\n}\r\n/*\r\n添加终端的使用用户\r\n*/\r\nexport function addTerminalUser(cur_userId,terminal_id,userId,competence_type){\r\n    const data = {cur_userId,terminal_id,userId,competence_type};\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=add_terminal_user',\r\n        method: \"post\",\r\n        data\r\n    });\r\n}\r\n\r\n/*\r\n获取终端以及人员信息 get_user_terminal_competence\r\n*/\r\nexport function getTerminalUser(terminal_id){\r\n    return fetch({\r\n        url: '/ong/terminal?cmd=get_user_terminal_competence',\r\n        method: \"get\",\r\n        params:{terminal_id}\r\n    })\r\n}\r\n/*\r\n新增升级包名称*/\r\nexport function addPackage(p){\r\n    const data = p;\r\n    return fetch({\r\n        url: '/ong/package?cmd=add_package',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n更新升级包信息*/\r\nexport function updatePackage(p){\r\n    const data = p;\r\n    return fetch({\r\n        url: '/ong/package?cmd=update_package',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n获取升级包名称列表*/\r\nexport function getPackages(params){\r\n    return fetch({\r\n        url: '/ong/package?cmd=get_packages',\r\n        method: \"get\",\r\n        params\r\n    })\r\n}\r\n/*\r\n删除升级包名称*/\r\nexport function deletePackage(data){\r\n    return fetch({\r\n        url:'/ong/package?cmd=delete_package',\r\n        method:\"delete\",\r\n        data\r\n    })\r\n}\r\n/*\r\n添加升级包版本信息*/\r\nexport function addVersion(data){\r\n    return fetch({\r\n        url: '/ong/version?cmd=add_version',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n更新升级包版本信息*/\r\nexport function updateVersion(data){\r\n    return fetch({\r\n        url: '/ong/version?cmd=update_package_version',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n/*\r\n获取升级包的版本信息*/\r\nexport function getVersionList(userId,package_id){\r\n    const params ={userId,package_id};\r\n    return fetch({\r\n        url: '/ong/version?cmd=get_package_version_info',\r\n        method: \"get\",\r\n        params\r\n    })\r\n}\r\n/*\r\n删除升级包版本信息*/\r\nexport function delVersion(userId,version_id){\r\n    const data ={userId,version_id};\r\n    return fetch({\r\n        url: '/ong/version?cmd=delete_package_version',\r\n        method: \"delete\",\r\n        data\r\n    })\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/terminal.js","<template>\r\n  \t<div class=\"components-container\">\r\n  \t\t<el-form :inline=\"true\" >\r\n\t        <el-form-item>\r\n\t          <router-link to=\"/terminal/list\">\r\n\t            <el-button type=\"text\">\r\n\t              <i class=\"el-icon-arrow-left\"></i>返回\r\n\t            </el-button>\r\n\t          </router-link>\r\n\t        </el-form-item>\r\n\t        <el-form-item class=\"fr\">\r\n\t          <el-button type=\"primary\" size=\"small\" @click=\"dialogAddPackageVisible=true\"><i class=\"el-icon-plus\"></i>添加升级包</el-button>\r\n\t        </el-form-item>\r\n\t    </el-form>\r\n\t\t<el-table\r\n\t    :data=\"list\"\r\n\t    style=\"width: 100%\"\r\n\t    :highlight-current-row=\"highlight\"\r\n\t    v-loading.body=\"loading\"\r\n\t    element-loading-text=\"拼命加载中\"\r\n\t    >\t\r\n\t    \t<el-table-column\r\n\t\t\t\ttype=\"index\"\r\n\t    \t>\r\n\t    \t</el-table-column>\r\n        <el-table-column\r\n          prop=\"package_id\"\r\n          label=\"升级包ID\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"package_terminalId\"\r\n          label=\"终端ID\">\r\n        </el-table-column>\r\n\t\t    <el-table-column\r\n\t\t      prop=\"package_name\"\r\n\t\t      label=\"升级包名称\">\r\n\t\t    </el-table-column>\r\n\t\t    <el-table-column\r\n\t\t      prop=\"package_introduce\"\r\n\t\t      label=\"描述\">\r\n\t\t    </el-table-column>\r\n\t\t    <el-table-column\r\n\t\t\t\tlabel=\"操作\"\r\n\t\t\t\twidth=300\r\n\t\t    >\r\n\t\t    \t<template scope=\"scope\">\r\n\t\t    \t\t<el-button type=\"primary\" size=\"small\" icon=\"edit\" @click=\"showEdit(scope.row)\">编辑</el-button>\t\r\n\t\t    \t\t<el-button type=\"primary\" size=\"small\" icon=\"delete\" @click=\"del(scope.row)\">删除</el-button>\t\r\n\t\t    \t\t<el-button type=\"primary\" size=\"small\" icon=\"information\" @click=\"toVersion(scope.row)\">版本管理</el-button>\t\r\n\t\t    \t</template>\r\n\t\t    </el-table-column>\r\n\t    </el-table>\r\n\r\n\t    <el-dialog title=\"添加升级包\" :visible.sync=\"dialogAddPackageVisible\" \r\n\t    \t:lock-scroll=\"true\" \r\n\t    \tsize=\"tiny\"\r\n\t     \t@close=\"resetForm('packageForm')\">\r\n\t        <el-form :model=\"packageForm\" :rules=\"rules\" ref=\"packageForm\" label-width=\"70px\">\r\n\t          <el-form-item label=\"包名称\" prop=\"package_name\">\r\n\t            <el-input v-model=\"packageForm.package_name\" :maxlength=16 placeholder=\"包名称\"></el-input>\r\n\t          </el-form-item>\r\n\t          <el-form-item label=\"描述\" prop=\"introduce\">\r\n\t            <el-input type=\"textarea\" :maxlength=70 v-model=\"packageForm.introduce\" placeholder=\"描述\"></el-input>\r\n\t          </el-form-item>\r\n\t        </el-form>\r\n\t        <div slot=\"footer\" class=\"dialog-footer\">\r\n\t          <el-button type=\"primary\" @click=\"addPackage()\">添加</el-button>\r\n\t          <el-button @click=\"dialogAddPackageVisible=false;\">取消</el-button>\r\n\t        </div>\r\n\t    </el-dialog>  \r\n\r\n\t    <el-dialog title=\"更新升级包\" :visible.sync=\"dialogUpdatePackageVisible\" \r\n\t    \t:lock-scroll=\"true\" \r\n\t    \tsize=\"tiny\"\r\n\t     \t@close=\"resetForm('updatePackageForm')\">\r\n\t        <el-form :model=\"updatePackageForm\" :rules=\"rules\" ref=\"updatePackageForm\" label-width=\"70px\">\r\n\t          <el-form-item label=\"包名称\" prop=\"package_name\">\r\n\t            <el-input v-model=\"updatePackageForm.package_name\" :maxlength=16 placeholder=\"包名称\"></el-input>\r\n\t          </el-form-item>\r\n\t          <el-form-item label=\"描述\" prop=\"introduce\">\r\n\t            <el-input type=\"textarea\" :maxlength=70 v-model=\"updatePackageForm.introduce\" placeholder=\"描述\"></el-input>\r\n\t          </el-form-item>\r\n\t        </el-form>\r\n\t        <div slot=\"footer\" class=\"dialog-footer\">\r\n\t          <el-button type=\"primary\" @click=\"updatePackage()\">确定</el-button>\r\n\t          <el-button @click=\"dialogUpdatePackageVisible=false;\">取消</el-button>\r\n\t        </div>\r\n\t    </el-dialog>  \r\n\r\n\r\n\t</div>\r\n</template>\r\n<script>\r\n  import {getPackages,addPackage as doAddPackage,updatePackage as doUpdatePackage,deletePackage} from 'api/terminal';\r\n  import {deepClone} from 'utils';\r\n  import { Loading } from 'element-ui';\r\n  export default {\r\n\tmethods: {\r\n      fetchData(){\r\n        this.loading=true;\r\n        const params = this.params;\r\n        getPackages(params).then((response)=>{\r\n          this.loading=false;\r\n          const data = response.data;\r\n          if(data.code===\"0000\"){\r\n            this.list=data.packageArray;\r\n          }else{\r\n            this.$message(data.message);\r\n          }\r\n        }).catch((error)=>{\r\n          \tthis.loading=true;\r\n            this.$message({message:\"服务器出错了！\",type:\"error\"});\r\n        });\r\n      },\r\n      addPackage(){\r\n      \tthis.$refs.packageForm.validate(valid=>{\r\n      \t\tif(valid){\r\n      \t\t\tthis.dialogAddPackageVisible=false;\r\n      \t\t\tconst data =$.extend(deepClone(this.params),this.packageForm);\r\n     \t\t\tdoAddPackage(data).then(response=>{\r\n     \t\t\t\tconst data = response.data;\r\n     \t\t\t\tif(data.code==\"0000\"){\r\n     \t\t\t\t\tthis.$message.success(\"添加升级包成功！\");\r\n     \t\t\t\t\tthis.fetchData();\r\n     \t\t\t\t}else{\r\n     \t\t\t\t\tthis.$message.warning(data.message);\r\n     \t\t\t\t}\r\n     \t\t\t}).catch(error=>{\r\n     \t\t\t\tthis.$message.error(error.message?error.message:\"服务器出错了！\")\r\n     \t\t\t});\r\n      \t\t}\r\n      \t})\r\n      },\r\n      showEdit(p){\r\n\t\t  \tthis.dialogUpdatePackageVisible = true;\r\n\t\t  \tthis.updatePackageForm.package_name=p.package_name;\r\n\t\t  \tthis.updatePackageForm.package_id = p.package_id;\r\n\t\t  \tthis.updatePackageForm.introduce = p.package_introduce;\r\n\t\t  \tthis.updatePackageForm.terminal_id = p.package_terminalId;\r\n      },\r\n      updatePackage(){\r\n  \t\tthis.$refs.updatePackageForm.validate(valid=>{\r\n  \t\t\tif(valid){\r\n  \t\t\t\tthis.dialogUpdatePackageVisible= false;\r\n  \t\t\t\tconst data = $.extend(deepClone(this.params),this.updatePackageForm);\r\n  \t\t\t\tdoUpdatePackage(data).then(response=>{\r\n  \t\t\t\t\tconst data = response.data;\r\n  \t\t\t\t\tif(data.code==\"0000\"){\r\n  \t\t\t\t\t\tthis.$message.success(\"更新成功！\");\r\n  \t\t\t\t\t\tthis.fetchData();\r\n  \t\t\t\t\t}else{\r\n  \t\t\t\t\t\tthis.$message.warning(data.message);\r\n  \t\t\t\t\t}\r\n  \t\t\t\t}).catch(error=>{\r\n  \t\t\t\t\tthis.$message.error(error.message?error.message:\"服务器出错了！\")\r\n  \t\t\t\t})\r\n  \t\t\t}\t\r\n  \t\t})\r\n      },\r\n      del(p){\r\n      \tthis.$confirm(\"确定要删除:\"+p.package_name+\"?\",\"提示\",{\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(_=>{\r\n      \t\tlet loadingInstance = Loading.service({target:$(\".components-container\")[0],text:\"删除中...\"});\r\n  \t\t\tconst delp = $.extend(deepClone(this.params),p);\r\n      \t\tdeletePackage(delp).then(response=>{\r\n      \t\t\tconst data = response.data;\r\n      \t\t\tloadingInstance.close();\r\n      \t\t\tif(data.code==\"0000\"){\r\n\t\t\t\t\tthis.$message.success(\"删除成功！\");  \r\n\t\t\t\t\tthis.fetchData();    \t\t\t\t\r\n      \t\t\t}else{\r\n      \t\t\t\tthis.$message.warning(data.message);\r\n      \t\t\t}\r\n      \t\t}).catch(error=>{\r\n      \t\t\tloadingInstance.close();\r\n      \t\t\tthis.$message.error(error.message?error.message:\"服务器出错了！\")\r\n      \t\t})\r\n        }).catch(_=>{\r\n\r\n        })\r\n      },\r\n      resetForm(formName){\r\n        this.$refs[formName].resetFields();\r\n      },\r\n      toVersion(p){\r\n      \tlet packageId = p.package_id;\r\n      \tlet terminalId = this.params.terminal_id;\r\n      \tconst path = '/terminal/'+terminalId+'/package/'+packageId+\"/versionList\";\r\n        this.$router.push({ path});\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        list:[],\r\n        loading:false,\r\n        highlight:true,\r\n        dialogAddPackageVisible:false,\r\n        dialogUpdatePackageVisible:false,\r\n        params:{\r\n        \tuserId:this.$store.getters.userId,\r\n        \tterminal_id:this.$route.params.terminalId\r\n        },\r\n        packageForm:{\r\n        \tpackage_name:\"\",\r\n        \tintroduce:\"\"\r\n        },\r\n        updatePackageForm:{\r\n        \tpackage_name:\"\",\r\n        \tintroduce:\"\",\r\n        \tpackage_id:\"\",\r\n        \tterminal_id:\"\"\r\n        },\r\n        rules: {\r\n          package_name: [\r\n            { required: true, message: '名称必填', trigger: 'blur' },\r\n            { max: 16, message: '名称长度不能超过16', trigger: 'blur' }\r\n          ],\r\n          introduce:[\r\n            {max:74,message:'描述太长',trigger:\"blur\"}\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      this.fetchData();\r\n    }\r\n  }\r\n\t\r\n</script>\n\n\n// WEBPACK FOOTER //\n// packageList.vue?d829b86c"],"sourceRoot":""}